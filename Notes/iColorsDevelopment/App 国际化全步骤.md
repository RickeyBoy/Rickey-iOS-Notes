# ç‹¬ç«‹å¼€å‘ä¹‹ App å›½é™…åŒ–å…¨æ­¥éª¤

> å…³äºæˆ‘ï¼šå¤§å‚æ‘¸é±¼ + ä¸šä½™ç‹¬ç«‹å¼€å‘ï¼Œä¹‹åä¼šè¾“å‡ºæ·±åº¦æŠ€æœ¯æ–‡ç«  + ç‹¬ç«‹å¼€å‘æŠ€å·§
>
> æˆ‘çš„å¾€æœŸæŠ€æœ¯æ–‡ç« åˆé›†ï¼š[RickeyBoy - Gitbub](https://link.juejin.cn/?target=https%3A%2F%2Fgithub.com%2FRickeyBoy%2FRickey-iOS-Notes)
>
> æˆ‘çš„ç‹¬ç«‹å¼€å‘ Appï¼š[iColors - è®¾è®¡çµæ„Ÿ é…è‰²åŠ©æ‰‹](https://link.juejin.cn/?target=https%3A%2F%2Fapps.apple.com%2Fapp%2Fid6448422065)

å¯¹äºä¸€ä¸ªç‹¬ç«‹ app æ¥è®²ï¼Œå›½é™…åŒ–å‡ºæµ·æ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„æ­¥éª¤ï¼Œæµ·å¤–å¹¿é˜”çš„å¸‚åœºå’Œè´­ä¹°åŠ›ï¼Œåœ¨è¥é”€è·Ÿä¸Šçš„æƒ…å†µä¸‹ï¼Œæ˜¯ä¸€ä¸ªéå¸¸ä¸é”™çš„æ”¶å…¥æ¥æºã€‚

åœ¨åšå›½é™…åŒ–ä¹‹å‰ï¼Œå…¶å®æˆ‘åœ¨ç½‘ç»œä¸Šä¹Ÿæ‰¾è¿‡å¾ˆå¤šçš„èµ„æ–™å’Œæ•™ç¨‹ï¼Œä¸è¿‡ç»å¤§éƒ¨åˆ†æ•™ç¨‹åªæ˜¯è®²è§£äº†å…¶ä¸­çš„ä¸€ä¸ªæ­¥éª¤ï¼Œæ¯”å¦‚é€šè¿‡ localizable æ–‡ä»¶å®ç°å¤šè¯­è¨€ã€‚ä½†æ˜¯è¿™äº›æ•™ç¨‹æ™®éåªé€‚åˆæ¶æ„æ¯”è¾ƒç®€å•çš„ appï¼Œæ¶‰åŠåˆ°å›ºå®šæ–‡æ¡ˆã€ä¸”æ–‡æ¡ˆæ•°é‡ä¸å¤šçš„æƒ…å†µï¼Œå¹¶ä¸”å®æ“æ€§æœ‰é™ã€‚

æ‰€ä»¥æœ¬ç³»åˆ—ä¼šä»¥æˆ‘è‡ªå·±çš„ç‹¬ç«‹ appï¼šã€ŒiColorsã€ ä¸ºä¾‹ï¼Œå…¨æ–¹ä½è®²è§£å…¶ä¸­æ¶‰åŠåˆ°çš„å„ä¸ªæ­¥éª¤çš„åŸç†å’Œæ–¹æ³•ï¼Œæ„Ÿå…´è¶£ or è§‰å¾—æœ‰ç”¨çš„æœ‹å‹å¯ä»¥ç‚¹èµæ”¶è—ã€‚è¦æ˜¯è§‰å¾—éå¸¸æœ‰ç”¨ï¼Œå¯ä»¥å» App Store ä¸‹è½½ä¸€ä¸‹æˆ‘çš„ Appï¼Œç‚¹ä¸ªäº”æ˜Ÿå¥½è¯„å“ˆå“ˆï¼

å®é™…æ•ˆæœå›¾ç¤ºï¼š

| ä¸­æ–‡ç‰ˆ                                                    | è‹±æ–‡ç‰ˆ                                                    |
| --------------------------------------------------------- | --------------------------------------------------------- |
| ![chIntro](../../backups/iColorsLocalization/chIntro.png) | ![enIntro](../../backups/iColorsLocalization/enIntro.png) |



# ğŸŒ ä¸ºä»€ä¹ˆè¦åšå›½é™…åŒ–

åšä¹‹å‰å…ˆæƒ³æ¸…æ¥šä¸ºä»€ä¹ˆè¦åšã€‚

å¯¹äºä¸€äº›å¤§ app è€Œè¨€ï¼Œåšå›½é™…åŒ–è‚¯å®šæ˜¯ä¸€ä»¶ç†æ‰€åº”å½“çš„äº‹æƒ…ã€‚é‚£ä¹ˆä½œä¸ºä¸€ä¸ªç‹¬ç«‹ app è€Œè¨€ä¸ºä»€ä¹ˆè¦åšå›½é™…åŒ–ï¼Ÿç®€å•è€Œè¨€ï¼Œé‚£å°±æ˜¯ç”¨æˆ·åŸºæ•°çš„æ‰©å¤§ï¼Œå†å åŠ æµ·å¤–ç”¨æˆ·çš„ä»˜è´¹èƒ½åŠ›æ›´å¼ºã€‚

### ç”¨æˆ·åŸºæ•°æˆè§„æ¨¡çš„æ‰©å¤§

è¿™ä¸€ç‚¹æ˜¯éå¸¸å®¹æ˜“å®¹æ˜“ç†è§£ï¼Œæ¯•ç«Ÿå…¨çƒç”¨æˆ·ä¼šæ›´å¤šã€‚å…¶å®å³ä¾¿æ²¡æœ‰åšå›½é™…åŒ–å¤šè¯­è¨€é€‚é…ï¼ŒApp ä¹Ÿæ˜¯å¯ä»¥ä¸Šæ¶æ‰€æœ‰å›½å®¶çš„ï¼Œä½†æ˜¯è¿™é‡Œæœ‰ä¸¤æ–¹é¢çš„é—®é¢˜ï¼š

1. App åœ¨æ‰€æœ‰å›½å®¶åªèƒ½æ‹¥æœ‰é»˜è®¤è¯­è¨€ç‰ˆæœ¬ï¼ˆæ¯”å¦‚ä¸­æ–‡ï¼‰çš„ AppStore ä»‹ç»é¡µï¼Œä»¥åŠ AppStore æœç´¢å…³é”®è¯ã€‚é‚£ä¹ˆå¯ä»¥æƒ³è±¡ï¼Œè‡ªç„¶æµé‡å°±å‡ ä¹ä¸å­˜åœ¨äº†ã€‚
2. å¦‚æœæ²¡æœ‰å®ç°å¯¹åº”è¯­è¨€ï¼Œæˆ–è€…æ²¡æœ‰è‹±è¯­çš„æƒ…å†µä¸‹ï¼Œç”¨æˆ·å¾ˆå®¹æ˜“é‡åˆ°ä¸‹è½½äº†å´æ— æ³•ä½¿ç”¨çš„æƒ…å†µã€‚è¿™æ ·å¾ˆå®¹æ˜“å¯¼è‡´åœ¨ AppStore æµ·å¤–å¸‚åœºè¢«æ‰“ä½åˆ†ã€‚

### æµ·å¤–ç”¨æˆ·çš„ä»˜è´¹èƒ½åŠ›

è¿™æ˜¯è€ç”Ÿå¸¸è°ˆçš„ä¸€ç‚¹ï¼Œæ•´ä½“è€Œè¨€æµ·å¤–ç”¨æˆ·çš„ä»˜è´¹èƒ½åŠ›å’Œä»˜è´¹æ„æ„¿éƒ½ä¼šæ¯”å›½å†…æ›´å¼ºã€‚æµ·å¤–ç”¨æˆ·å·²ç»ä¹ æƒ¯äº†ä¸ºå–œçˆ±çš„ app æˆ–è€…æ˜¯å·¥å…·ä»˜è´¹ï¼Œå¦‚æœè¶³å¤Ÿå–œæ¬¢æ˜¯å¾ˆæ„¿æ„ä»˜é«˜ä»·çš„ã€‚å¹¶ä¸”ç”±äºæ±‡ç‡ç­‰ä¸€äº›åŸå› ï¼Œå›½å†…è½¯ä»¶çš„ä»·æ ¼å¯¹äºæµ·å¤–ç”¨æˆ·è€Œè¨€æ˜¯ç›¸å¯¹åˆ’ç®—çš„ä¸€ç¬”é’±ã€‚æ‰€ä»¥å¯æƒ³è€ŒçŸ¥ï¼Œå•ä¸ªç”¨æˆ·çš„ä»·å€¼æ˜¯ä¼šç›¸å¯¹æ›´é«˜ä¸€ç‚¹çš„ã€‚

æ‰€ä»¥éå¸¸æ˜æ˜¾ï¼Œå³ä¾¿åšå›½é™…åŒ–éœ€è¦è¾ƒä¸ºå¤æ‚çš„å·¥ä½œé‡ï¼Œä¹Ÿæ˜¯å€¼å¾—åšçš„ï¼Œå°¤å…¶æ˜¯å¯¹äºç‹¬ç«‹ app è€Œè¨€æ›´æ˜¯å¦‚æ­¤ã€‚



# ğŸ“ å¼€å§‹å‰çš„å‡†å¤‡

å¥½çš„ï¼Œå†å†³å®šäº†è¦åšå›½é™…åŒ–é€‚é…å¤šè¯­è¨€ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥æ­£å¼å¼€å§‹è¿™éƒ¨åˆ†çš„å®æ“äº†ã€‚è¿™é‡Œå…ˆç®€å•è¯´ä¸€ä¸‹æˆ‘è‡ªå·±çš„é¡¹ç›®æŠ€æœ¯æ ˆï¼š

- ä»£ç è¯­è¨€ï¼šSwiftUI
- æ•°æ®å­˜å‚¨ï¼šCoreData

- App åˆå§‹è¯­è¨€ï¼šä¸­æ–‡

- App ç›®æ ‡è¯­è¨€ï¼šè‹±æ–‡

è¿™é‡Œå†å¤šè¯´ä¸€å¥ï¼Œä¸€æ–¹é¢æˆ‘ç›®å‰çš„ç‹¬ç«‹ App åŠŸèƒ½ç®—æ˜¯éå¸¸å®Œå–„äº†ï¼›åŒæ—¶å› ä¸ºæˆ‘è¿™é‡Œæ¶‰åŠåˆ°äº† CoreData ä½œä¸ºæ•°æ®å­˜å‚¨ä¸­å¿ƒä¹‹ä¸€ï¼Œéœ€è¦è€ƒè™‘ CoreData æ¨¡å‹å‡çº§ï¼Œå¯¼è‡´æ•´ä¸ªè¿‡ç¨‹ä¼šæ›´åŠ å¤æ‚ã€‚

å¦‚æœä½ çš„ App åªæ˜¯ä¸€ä¸ªå°å‹å·¥å…·ï¼Œä¸æ¶‰åŠæ•°æ®æœ¬èº«çš„å¤šè¯­è¨€é€‚é…ï¼Œæˆ–è€… App æ–‡æ¡ˆå¤§å¤šæ•°æ˜¯é€šè¿‡å†™æ­»çš„æ–¹å¼å­˜åœ¨ï¼Œé‚£ä¹ˆåº”è¯¥ä¼šæ›´åŠ ç®€å•ä¸€äº›ã€‚

å¦å¤–ï¼Œè¿‡ç¨‹ä¸­ä¼šä½¿ç”¨åˆ° ChatGPTï¼ˆå…è´¹çš„å°±å¤Ÿäº†ï¼‰ï¼Œç›¸ä¿¡å¤§å®¶éƒ½å·²ç»æœ‰è´¦å·äº†å§ï¼æ•´ä¸ªè¿‡ç¨‹ä¸­æˆ‘æ„Ÿè§‰ç°åœ¨ AI å¯¹äºç”Ÿäº§åŠ›æ˜¯çœŸçš„æœ‰æ˜æ˜¾æå‡çš„ï¼Œä¹ æƒ¯ä½¿ç”¨çš„è¯ç¡®å®å¾ˆæœ‰å¸®åŠ©ã€‚æ¯•ç«Ÿç¨‹åºå‘˜ï¼Œå–„ç”¨å„ç§å·¥å…·æ˜¯åŸºæœ¬ç´ è´¨äº†ã€‚





# CoreData éƒ¨åˆ†



## ç¬¬ä¸€æ­¥ï¼šæå– CoreData æ–‡æ¡ˆ

ChatGPT è„šæœ¬ + æå–ç›®æ ‡é¢œè‰²



## ç¬¬ä¸‰æ­¥ï¼šç¿»è¯‘æ–‡æ¡ˆ





## ç¬¬å››æ­¥ï¼šå°† CoreData æ•°æ®å¯¹åº”çš„æ–‡æ¡ˆå¡å…¥



## ç¬¬äº”æ­¥ï¼šCoreData æ•°æ®å‡çº§



## æ›¿æ¢æ¨¡å‹åœ¨ App ä¸­çš„ä½¿ç”¨



### å¦‚ä½•æŸ¥çœ‹ CoreData æ•°æ®

https://stackoverflow.com/a/49044302



## App å†…æ–‡æ¡ˆéƒ¨åˆ†



## æå– APP å†…æ–‡æ¡ˆ

é€šè¿‡ Xcode å·¥å…·è‡ªåŠ¨æå–

é€šè¿‡æ‰‹åŠ¨æŸ¥æ¼è¡¥ç¼º



# é€šè¿‡ ChatGPT ç”Ÿæˆå¯¹åº”çš„ Key



## Xcode ä¸­ç”Ÿæˆ Localized.strings æ–‡ä»¶



## é€šè¿‡è„šæœ¬ç”Ÿæˆ strings æ–‡ä»¶



## æ›¿æ¢ App ä¸­çš„æ–‡æ¡ˆ



## æŠ€å·§ï¼šText åå¯ä»¥ç›´æ¥è·Ÿ localization key

Text(LocalizedStringKey("somekey")) == Text("somekey")

å¯ä»¥è¿™æ ·å…¨å±€æ›¿æ¢ï¼š

![shot_1236](/Users/timo.wang/Pictures/SnapNDrag Library.snapndraglibrary/10a6bed102-4d/shot_1236.png)

- `Text\(LocalizedStringKey\("(.+?)"\)\)`
- `Text\("$1"\)`



å¦å¤–ï¼Œbutton + navigationTitle ç­‰ä¹Ÿæ˜¯ OK çš„



æ³¨æ„ï¼šText(LocalizedStringKey(item.nameKey)) è¿™ç§ç±»å‹éœ€è¦æ‰‹åŠ¨åŠ ä¸Šï¼Œå¦åˆ™ä¸ä¼šåˆ‡æ¢





# è¯­è¨€é€‰æ‹©ä¸é€»è¾‘



### iOS ä¸­çš„è¯­è¨€é€»è¾‘

zh-Hans å’Œ zh_CN çš„åŒºåˆ«ï¼š

ä¸€ä¸ªæ˜¯è¯­è¨€è„šæœ¬ï¼Œä¸€ä¸ªæ˜¯åœ°åŒº



å¦‚ä½•è½¬åŒ–ï¼š

https://stackoverflow.com/a/45299393

å‚è€ƒï¼š

scriptLanguageCode



## å¢åŠ è¯­è¨€é€‰æ‹©é¡µé¢

https://github.com/Abedalkareem/LanguageManager-SwiftUI



# æœ€ç»ˆè¯­è¨€æ£€ç´¢



![shot_1232](/Users/timo.wang/Pictures/SnapNDrag Library.snapndraglibrary/10a6bc17e6-e5/shot_1232.png)



# å…¶ä»–ç»†èŠ‚è¯­è¨€çš„é€‚é…



## é€šçŸ¥è¯­è¨€é€‚é…

ä½¿ç”¨ InfoPlist.strings å³å¯



## å°ç»„ä»¶è¯­è¨€é€‚é…

Localizable.strings ä¸­çš„å†…å®¹ï¼Œå¯ä»¥å’Œä¸»å·¥ç¨‹çš„æ”¾åœ¨ä¸€å—å„¿



åˆ‡æ¢è¯­è¨€æ—¶é€šçŸ¥åˆ°å°ç»„ä»¶ï¼š

WidgetCenter.shared.reloadTimelines(ofKind: "CodeModulesWidget")

ä»¥åŠé€šè¿‡ group userdefaults å…±äº«ç»„ä»¶è¯­è¨€é€‰æ‹©



## App Store ä¸Šè®¢é˜…æ–‡æ¡ˆ



## å…³äºæ—¥æœŸçš„é€‚é…

![shot_1231](/Users/timo.wang/Pictures/SnapNDrag Library.snapndraglibrary/10a6bc0b5a-13/shot_1231.png)

https://stackoverflow.com/a/36060399

```swift
func currentMonth(for locale: Locale) -> String {
    let calendar = Calendar.current
    let month = calendar.component(.month, from: self)

    let dateFormatter = DateFormatter()
    dateFormatter.locale = locale

    if let monthSymbols = dateFormatter.standaloneMonthSymbols {
        let monthSymbol = monthSymbols[month - 1]
        return monthSymbol
    } else {
        return ""
    }
}
```



### å°æŠ€å·§ï¼š Preview ä¸­è®¾ç½®è¯­è¨€

.environment(\.locale, .init(identifier: "en"))

.environment(\.locale, .init(identifier: "zh-Hans"))



### å¸¦å‚æ•°çš„ Localizable.strings å®ç°

https://stackoverflow.com/a/69469050





## æœç´¢çš„é€‚é…





